<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>For Django Devs &#8211; oTree</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="oTree : A software platform for economics experiments">
    <meta name="author" content="Chris Wickens">
    
    <link rel="canonical" href="/wiki/For-Django-Devs/">

    <!--JS libraries-->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/js/lightbox.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/owl.carousel.css">
    <link rel="stylesheet" href="/css/owl.theme.css">
    <link rel="stylesheet" href="/css/pixyll.css" type="text/css">
    <link href="/css/lightbox.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="For Django Devs">
    <meta property="og:description" content="oTree : A software platform for economics experiments">
    <meta property="og:url" content="/wiki/For-Django-Devs/">
    <meta property="og:site_name" content="oTree">
</head>

<body class="">
  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
        <a href="/" class="site-title">oTree</a>
      <nav class="site-nav right">
        <a href="/">Home</a>
<a href="/samplegames/">Sample games</a>
<a href="/wiki/Home">Wiki</a>
<a href="/sourcecode/">Source Code</a>
<a href="/oTree.pdf">Paper</a>
<a href="/oTreeSlides.pdf">Slides</a>

      </nav>
      <div class="clearfix"></div>
      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        <table>
    <tr>
        <td valign="top">
            <div class="post">
                <header class="post-header">
                    <h1 class="h2">For Django Devs</h1>
                </header>
                <article class="post-content">
                    <h2>Guidelines for developers contributing to oTree&#39;s library of games</h2>

<h3>Keep it simple</h3>

<p>The purpose of the oTree sample games library is to show examples so that new users can understand how to do things in oTree. They will then copy-paste these code snippets when they create their own apps. So, we want a consistent coding style in the oTree library, especially because many users will be novice Python programmers. In general we should avoid complex code and algorithms. We should also try to avoid code that relies on less commonly used Python/Django features or &quot;tricks&quot;/hacks. Even if it works nicely in a particular context, these risk causing confusion when someone copies them without really understanding.</p>

<p>Examples of code that could confuse a newcomer:
* Using <code>a[::-1]</code> to reverse a list (not obvious what this is doing, and hard to Google
* Decorators like <code>@property</code> or <code>@staticmethod</code>
* Using class inheritance within your app (e.g. subclassing one view from another, other than subclassing oTree&#39;s built-in views)
* Use lists instead of tuples, because when a tuple only has 1 element you have to remember the (comma,)</p>

<h3>Consistency</h3>

<ul>
<li>Don&#39;t delete unused imports in the <standard imports> section; a user should always be able to rely on those being there.</li>
</ul>

<h3>Don&#39;t repeat yourself</h3>

<ul>
<li>If a certain page is being repeated in multiple apps, it may be better suited as a separate app that gets added to <code>subsession_apps</code> for each session in <code>sessions.py</code>. Examples: surveys and feedback pages.</li>
<li>You should obey to Django&#39;s &quot;Don&#39;t repeat yourself&quot; principle: &quot;Every distinct concept and/or piece of data should live in one, and only one, place. Redundancy is bad.&quot;

<ul>
<li>Numeric constants, even simple ones like 0.5 or 3, should go in the <code>Constants</code> class</li>
</ul></li>
</ul>

<h3>Separate logic from presentation</h3>

<ul>
<li>User-facing strings should be defined in the template wherever possible. This is to keep a separation between logic and UI, which makes it easier for a non-programmer to modify a string, since they only have to look at the HTML. Also, in the template, strings are displayed in context, whereas if they are defined in Python code, they are usually out of context.</li>
<li>Try not to put much logic in templates. It makes it hard for a non-programmer to understand and edit the template, and anyways logic in templates is often more verbose and harder to debug.</li>
</ul>

<h2>Intro to oTree for Django developers</h2>

<h3>Differences between oTree and Django</h3>

<h4>Models</h4>

<ul>
<li>Field labels should go in the template formrow, rather than the model field&#39;s <code>verbose_name</code>.</li>
<li><code>null=True</code> and <code>default=None</code> are not necessary in your model field declarations; in oTree fields are null by default.</li>
<li>On <code>CharField</code>s, <code>max_length</code> is not required.</li>
</ul>

                </article>
            </div>
        </td>
        <td valign="top">
            <ul>
<li><a class="post-link" href="/wiki/Prerequisites">Prerequisites</a></li>
<li><a class="post-link" href="/wiki/PyCharm">PyCharm</a></li>
<li><a class="post-link" href="/wiki/Setup">Setup</a></li>
<li><a class="post-link" href="/wiki/Sessions">Sessions</a></li>
<li><a class="post-link" href="/wiki/Apps">Apps</a></li>
<li><a class="post-link" href="/wiki/Models">Models</a></li>
<li><a class="post-link" href="/wiki/Views">Views</a></li>
<li><a class="post-link" href="/wiki/Templates">Templates</a></li>
<li><a class="post-link" href="/wiki/Rounds">Rounds</a></li>
<li><a class="post-link" href="/wiki/Trying-Your-App">Trying Your App</a></li>
<li><a class="post-link" href="/wiki/Test-Bots">Test Bots</a></li>
<li><a class="post-link" href="/wiki/Admin">Admin</a></li>
<li><a class="post-link" href="/wiki/Running-Lab-Sessions">Running Lab Sessions</a></li>
<li><a class="post-link" href="/wiki/Deploying-on-Heroku">Deploying on Heroku</a></li>
<li><a class="post-link" href="/wiki/For-Django-Devs">For Django Devs</a></li>
<li><a class="post-link" href="/wiki/Kiosk-Mode">Kiosk Mode</a></li>
<li><a class="post-link" href="/wiki/Payment-PDF">Payment PDF</a></li>
<li><a class="post-link" href="/wiki/Export-Data">Export Data</a></li>
<li><a class="post-link" href="/wiki/AMT-Integration">AMT Integration</a></li>
<li><a class="post-link" href="/wiki/Debug-Info">Debug Info</a></li>
<li><a class="post-link" href="/wiki/Progress-Monitor">Progress Monitor</a></li>
<li><a class="post-link" href="/wiki/Session-Interface">Session Interface</a></li>
<li><a class="post-link" href="/wiki/User-Input-Validation">User Input Validation</a></li>
</ul>

        </td>
    </tr>
</table>

      </div>
    </div>
  </div>

  <footer class="footer">
  <div class="p2 wrap">
    <div class="measure mt1 center">
      <small>
        <a href="/sourcecode">License</a>
      </small>
    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-53910404-1', 'auto');
ga('send', 'pageview');

</script>


</body>
</html>
